<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://static.toss.im/tds/43.9.4/css/tds.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://static.toss.im/tps/main.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://static.toss.im/tps/others.css"
    />
    <link rel="stylesheet" type="text/css" href="./global.css" />
    <script src="https://cdn.tossplace.com/toss-front-sdk/v0/index.js"></script>
    <script src="./sdk.js"></script>
    <title>Order Example - Toss Front SDK</title>
  </head>
  <body>
    <div id="app"></div>
    <script>
      async function checkToken() {
        const useTokenAuthorization = true;

        /**
         * 초기 설정 예시입니다.
         * 토큰 인증을 사용한다면 onboarding.html 에서 획득한 token 검증 로직을 수행하고,
         * 토큰 인증을 사용하지 않는다면 바로 home.html으로 이동합니다.
         **/
        if (useTokenAuthorization) {
          const { value: token } = await sdk.storage.get({ key: "token" });

          if (token != null) {
            location.href = "./home.html";
          } else {
            location.href = "./onboarding.html";
          }
        } else {
          location.href = "./home.html";
        }        
      }
      checkToken();
    </script>
  </body>
</html>
